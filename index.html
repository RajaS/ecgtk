<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The wfdbtools module &mdash; wfdbtools v0.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="wfdbtools v0.1 documentation" href="" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li><a href="">wfdbtools v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-wfdbtools">
<h1>The wfdbtools module<a class="headerlink" href="#module-wfdbtools" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<ul class="simple">
</ul>
<p>A pure python module for accessing and using the waveform data in Physiobank. 
Provides <cite>rdsamp</cite> and <cite>rdann</cite> which are the python equivalents of the wfdb applications
of similar names.
A deliberate attempt is made to try to keep names and usage similar to the
original wfdb applications for simplicity of use.</p>
<p>The only dependency that will need to be installed is numpy. However, to use the function
<cite>plot_data</cite>, which is an utility function for interactive use, you need to have matplotlib
also installed.</p>
<p>Example Usage:</p>
<div class="highlight-python"><pre>&gt;&gt; from wfdbtools import rdsamp, rdann, plot_data
&gt;&gt; from pprint import pprint

# Record is a format 212 record from physiobank.
# Note that name of record does not include extension.
&gt;&gt; record  = 'samples/format212/100'

# Read in the data from 0 to 10 seconds
&gt;&gt; data, info = rdsamp(record, 0, 10)

# returned data is an array. The columns are time(samples),
# time(seconds), signal1, signal2
&gt;&gt; print data.shape
(3600, 4)

# info is a dictionary containing header information
&gt;&gt; pprint info
{'first_values': [995, 1011],
'gains': [200, 200],
'samp_count': 650000,
'samp_freq': 360,
'signal_names': ['MLII', 'V5'],
'zero_values': [1024, 1024]}

# And now read the annotation
&gt;&gt; ann = rdann(record, 'atr', 0, 10)

# ann has 3 columns - sample number, time (sec) and annotation code
&gt;&gt; print(ann[:4,:])
   array([[  18.   ,    0.05 ,   28.   ],
          [  77.   ,    0.214,    1.   ],
          [ 370.   ,    1.028,    1.   ],
          [ 662.   ,    1.839,    1.   ]])


# Plot the data and the mark the annotations
&gt;&gt; plot_data(data, info, ann)</pre>
</div>
<img alt="_images/plot.png" src="_images/plot.png" />
<div class="section" id="rdsamp">
<h2>rdsamp<a class="headerlink" href="#rdsamp" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="wfdbtools.rdsamp">
<tt class="descclassname">wfdbtools.</tt><tt class="descname">rdsamp</tt><big>(</big><em>record</em>, <em>start=0</em>, <em>end=-1</em>, <em>interval=-1</em><big>)</big><a class="headerlink" href="#wfdbtools.rdsamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Read signals from a format 212 record from Physionet database.</p>
<p>Only 2 channel records in format 212 are supported.
This is the most common record in the
Physionet database(<a class="reference external" href="http://www.physionet.org/physiobank/">http://www.physionet.org/physiobank/</a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>record</strong> : str</p>
<blockquote>
<p>Full path to record. No extension to be used for record name.</p>
</blockquote>
<p><strong>start</strong> : int, optional</p>
<blockquote>
<p>time to begin in seconds, default 0</p>
</blockquote>
<p><strong>end</strong> : int, optional</p>
<blockquote>
<p>time to end in seconds, defaults to end of record</p>
</blockquote>
<p><strong>interval</strong> : int, optional</p>
<blockquote>
<p>interval of data to be read in seconds
If both interval and end are given, earlier limit is used.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> : (N, 4) ndarray</p>
<blockquote>
<p>numpy array with 4 columns
col 1 - Elapsed time in samples
col 2 - Elapsed time in milliseconds
col 3,4 - The two signals
Signal amplitude is in physical units (mV)</p>
</blockquote>
<p><strong>info</strong> : dict</p>
<blockquote class="last">
<p>Dictionary containing header information
keys :
&#8216;signal_names&#8217; - Names of each signal
&#8216;samp_freq&#8217; - Sampling freq (samples / second)
&#8216;samp_count&#8217; - Total samples in record
&#8216;first_values&#8217; - First value of each signal
&#8216;gains&#8217; - Gain for each signal
&#8216;zero_values&#8217; - Zero value for each signal</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="rdann">
<h2>rdann<a class="headerlink" href="#rdann" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="wfdbtools.rdann">
<tt class="descclassname">wfdbtools.</tt><tt class="descname">rdann</tt><big>(</big><em>record</em>, <em>annotator</em>, <em>start=0</em>, <em>end=-1</em>, <em>types=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#wfdbtools.rdann" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads annotations for given record by specified annotator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>record</strong> : str</p>
<blockquote>
<p>Full path to record. Record name has no extension.</p>
</blockquote>
<p><strong>annotator</strong> : str</p>
<blockquote>
<p>Name of annotator, eg. &#8216;atr&#8217;.
This is the extension for the annotation file.</p>
</blockquote>
<p><strong>start</strong> : int, optional</p>
<blockquote>
<p>time to begin in seconds, default 0</p>
</blockquote>
<p><strong>end</strong> : int, optional</p>
<blockquote>
<p>time to end in seconds, defaults to end of record</p>
</blockquote>
<p><strong>types</strong> : list, optional</p>
<blockquote>
<p>list of annotation types that will be returned.
Types are input as annotation code (integer from 0 to 49)
Annotation types not in list will be ignored.
Default is empty list, which results in all types being read.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> : (N, 3) ndarray</p>
<blockquote class="last">
<p>numpy array with 3 columns
col 1 - Elapsed time in samples for each annotation.
col 2 - Elapsed time in seconds for each annotation.
col 3 - The annotation code.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="rdhdr">
<h2>rdhdr<a class="headerlink" href="#rdhdr" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="wfdbtools.rdhdr">
<tt class="descclassname">wfdbtools.</tt><tt class="descname">rdhdr</tt><big>(</big><em>record</em><big>)</big><a class="headerlink" href="#wfdbtools.rdhdr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the information read from the header file</p>
<p>Header file for each record has suffix &#8216;.hea&#8217; and
contains information about the record and each signal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>record</strong> : str</p>
<blockquote>
<p>Full path to record. Record name has no extension.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>info</strong> : dict</p>
<blockquote class="last">
<p>Information read from the header as a dictionary.
keys :
&#8216;signal_names&#8217; - Names of each signal
&#8216;samp_freq&#8217; - Sampling freq (samples / second)
&#8216;samp_count&#8217; - Total samples in record
&#8216;first_values&#8217; - First value of each signal
&#8216;gains&#8217; - Gain for each signal
&#8216;zero_values&#8217; - Zero value for each signal
&#8216;signal_names&#8217; - Name/Descr for each signal</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="utilities">
<h2>utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="wfdbtools.get_annotation_code">
<tt class="descclassname">wfdbtools.</tt><tt class="descname">get_annotation_code</tt><big>(</big><em>code=None</em><big>)</big><a class="headerlink" href="#wfdbtools.get_annotation_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the symbolic definition for the wfdb annotation code.</p>
<p>See <a class="reference external" href="http://www.physionet.org/physiotools/wpg/wpg_31.htm">http://www.physionet.org/physiotools/wpg/wpg_31.htm</a> for details.
Based on ecgcodes.h from wfdb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>code</strong> : int</p>
<blockquote>
<p>Integer from 0 to 49 (ACMAX).</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Definition</strong> : str</p>
<blockquote class="last">
<p>The definition for the code.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="wfdbtools.plot_data">
<tt class="descclassname">wfdbtools.</tt><tt class="descname">plot_data</tt><big>(</big><em>data</em>, <em>info</em>, <em>ann=None</em><big>)</big><a class="headerlink" href="#wfdbtools.plot_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the signal with annotations if available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : (N, 4) ndarray</p>
<blockquote>
<p>Output array from rdsamp.</p>
</blockquote>
<p><strong>info</strong> : dict</p>
<blockquote>
<p>Header information as a dictionary.
Output from rdsamp</p>
</blockquote>
<p><strong>ann</strong> : (N, 2) ndarray, optional</p>
<blockquote>
<p>Output from rdann</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong> :</p>
<p class="last"><strong>Matplotlib figure is plotted with the signals and annotations.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference external" href="modindex.html"><em>Module Index</em></a></li>
<li><a class="reference external" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">The wfdbtools module</a><ul>
<li><a class="reference external" href="#rdsamp">rdsamp</a></li>
<li><a class="reference external" href="#rdann">rdann</a></li>
<li><a class="reference external" href="#rdhdr">rdhdr</a></li>
<li><a class="reference external" href="#utilities">utilities</a></li>
</ul>
</li>
<li><a class="reference external" href="#indices-and-tables">Indices and tables</a></li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/index.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li><a href="">wfdbtools v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
      &copy; Copyright 2009, Raja Selvaraj.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-12259906-1");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>